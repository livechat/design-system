import { ArgTypes, Canvas, Meta, Title } from '@storybook/blocks';
import * as AppFrameStories from './AppFrame.stories';

<Meta of={AppFrameStories} />

<Title>AppFrame</Title>

[Intro](#Intro) | [How to build the navigation](#BuildNav) | [Component API](#ComponentAPI)

## Intro <a id="Intro" />

`AppFrame` is a component used to build an application layout, which assumes displaying its content in a frame around which interface elements such as navigation, side navigation or top bar are located.

The most important functionality of this component, apart from the UI layout, is primarily the navigation displayed on the left side of the layout. Thanks to the component approach to building this navigation, anyone can easily add additional elements to the navigation, and specific components will be responsible for specific tasks within the operation of the entire component, while leaving the way open to introducing your own custom elements, the addition of which will not be necessary, blocked by the limiting interface.

<Canvas of={AppFrameStories.Default} />

## How to build the navigation <a id="BuildNav" />

[Main nvaigation](#MainNav) | [Side navigation](#SideNav) | [AppFrameProvider](#Provider)

The component allows you to place navigation available on the left side, consisting of icons, and also allows you to display additional navigation in the opening panel.

### Main navigation <a id="MainNav" />

To build the main navigation, use the available components:
- `Navigation`
- `NavigationList`
- `NavigationItem`

#### `Navigation` component

It mainly serves as a container for other navigation elements. The styles have been prepared to provide enough space to place a list of items. If we want to make another group of navigation items, the next group will be displayed at the bottom of the navigation.

#### `NavigationList` component

Is another container for building navigation, responsible for the appropriate arrangement of navigation buttons. In addition to the container function, it is also responsible for enabling scrolling of elements when there is not enough space to display them using the `scrollable` prop, which is not defined by default.

#### `NavigationItem` component

The final element for building navigation, which is responsible for displaying the buttons. This component will display buttons with an icon (or any other element you pass, but remember about the size limitations of this element), a tooltip displayed on the hover with the name of the given element passed by `label` which can be turned off if necessary, and also badge which is optional.

#### Navigation implementation example

```jsx
<AppFrame
  navigation={
    <Navigation>
      // top navigation
      <NavigationList scrollable>
        ...
        <NavigationItem
          key="home"
          id="home"
          label="Home"
          icon={<Icon source={Home} />}
          onClick={(e, id) => {}}
          isActive={activeItem === 'home'}
          badge={5}
          url="#"
        />
        ...
      </NavigationList>
      // bottom navigation
      <NavigationList>
        ...
        <NavigationItem
          key="settings"
          id="settings"
          label="Settings"
          icon={<Icon source={Settings} />}
          onClick={(e, id) => {}}
          isActive={activeItem === 'settings'}
          badge='alert'
          url="#"
        />
        ...
      </NavigationList>
    </Navigation>
  }
>
  App content
</AppFrame>
```

### Side navigation <a id="SideNav" />

To build the side navigation, use the available components:

- `SideNavigation`
- `SideNavigationList`
- `SideNavigationItem`

#### `SideNavigation` component

It mainly serves as a container for side navigation elements. An addition in this component is props `title` which will display an additional header above the list of navigation buttons.

#### `SideNavigationList` component

Unlike `NavigationList` it is not a component required to create a side navigation structure. Its main task is to aggregate elements under a label, with the option of enabling expansion of the list of elements via the `isCollapsible` prop.

#### `SideNavigationItem` component

It is the final element for building side navigation, responsible for displaying the button. In addition to displaying the button with the given label, it can be supplemented by passing your own elements via the `leftNode` and `rightNode` props.

#### Side navigation implementation example

```jsx
<AppFrame
  navigation={<Navigation>...</Navigation>}
  sideNavigation={
    <SideNavigation title="Example">
      // single element
      <SideNavigationItem
        label="Example option"
        isActive={activeElement === 'example'}
        onClick={() => {}}
      />
      // with collapsible list
      <SideNavigationList isCollapsible label="With elements">
        ...
          <SideNavigationItem
            label="Example2 option"
            isActive={activeElement === 'example2'}
            onClick={() => {}}
          />
        ...
      </SideNavigationList>
    </SideNavigation>
  }
```

#### Side navigation visibility with `AppFrameProvider` <a id="Provider" />

Side navigation passed by the `sideNavigation` prop will be displayed in an appropriate container, located next to the application frame. By default, the navigation will be visible, but the component allows you to control its visibility.
For this purpose, `AppFrameProvider` was created, which is used by default inside the `AppFrame` component.

`AppFrameProvider` gives us access to the following properties:
- `isSubNavBarVisible` - defines whether side navigation is open/closed
- `toggleSubNavBarVisibility` - function changing the value of `isSubNavBarVisible`

Thanks to the provider, you can easily implement the ability to close and open this panel in your own UI.

```jsx
  const { isSubNavBarVisible, toggleSubNavBarVisibility } = useAppFrame();

  <Button onClick={toggleSubNavBarVisibility}>
    {isSubNavBarVisible ? 'Visible' : 'Hidden'}
  </Button>
```

## Component API <a id="ComponentAPI" />

<ArgTypes of={AppFrameStories.Default} sort="requiredFirst" />
