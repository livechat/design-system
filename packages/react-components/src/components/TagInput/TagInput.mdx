import { Meta, Title, Canvas, ArgTypes } from '@storybook/blocks';

import * as Stories from './TagInput.stories';

<Meta of={Stories} />

<Title>TagInput</Title>

[Intro](#Intro) | [Basic implementation](#BasicImplementation) | [Customisation](#TagsCustomisation) | [Validation](#TagsValidation) | [EmailTagInput](#EmailTagInput) | [Component API](#ComponentAPI) | [Content Spec](#ContentSpec)

## Intro <a id="Intro" />

The `TagInput` component is used to input multiple tags. It is a controlled component, which means that it requires an `onChange` and `tags` props to be passed.

### Basic implementation example <a id="BasicImplementation" />

<Canvas of={Stories.DefaultTagInput} sourceState="none" />

```jsx
<TagInput tags={['tag1', 'tag2']} onChange={(tags) => {}} />
```

### Tags customisation <a id="TagsCustomisation" />

The tags can be customised by passing an array of objects with the properties of Tag component. The tag value can be set via the `children` or `value` prop, if both are set, the `value` prop will be used.

```jsx
<TagInput
  tags={[
    { children: 'tag1', kind: 'success' },
    { value: 'tag2', kind: 'purple' },
    { value: 'tag2', kind: 'error', outline: true },
  ]}
  onChange={(tags) => {}}
/>
```

<Canvas of={Stories.CustomizableTagInput} sourceState="none" />

### Tags validation <a id="TagsValidation" />

`TagInput` component provides a way to validate the tags. The `validator` prop can be used to pass a function that will be called when the tags are changed. The function should return a boolean value, if the value is `false`, the tags will be marked as invalid.

```jsx
<TagInput
  tags={['LongTagName', 'ShortTag']}
  validate={(tags) => tags.length > 8}
  onChange={(tags) => {}}
/>
```

<Canvas of={Stories.ValidationTagInput} sourceState="none" />

### EmailTagInput <a id="EmailTagInput" />

The `EmailTagInput` component is a special case of `TagInput` that validates the tags as emails.

```jsx
<EmailTagInput
  tags={['tag1@mail.com', 'tag2@mail.com']}
  onChange={(tags) => {}}
/>
```

<Canvas of={Stories.DefaultEmailTagInput} sourceState="none" />

## Component API <a id="ComponentAPI" />

<ArgTypes of={Stories.DefaultTagInput} sort="requiredFirst" />

## Content Spec <a id="ContentSpec" />

<a
  className="sb-unstyled"
  href="https://www.figma.com/file/9FDwjR8lYvincseDkKypC4/Component-Documentations?type=design&node-id=743-59957&mode=dev"
  target="_blank"
>
  Go to Figma documentation
</a>
