@use './styles/size';

$base-class: 'avatar';

.#{$base-class} {
  display: flex;
  position: relative;
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  background-color: var(--surface-secondary-default);
  color: var(--content-basic-secondary);
  font-weight: 600;
  user-select: none;

  &__status {
    $status-class: &;
    $circle-class: #{$status-class}--circle;
    $rounded-square-class: #{$status-class}--rounded-square;

    position: absolute;
    border: 1px solid var(--background-01);
    border-radius: 50%;

    &--available {
      background: var(--surface-accent-emphasis-high-positive);
    }

    &--unavailable {
      background: var(--action-negative-default);
    }

    &--unknown {
      background: var(--surface-moderate-default);
    }

    &--xxxsmall#{$circle-class},
    &--xxsmall#{$circle-class},
    &--xsmall#{$circle-class},
    &--small#{$circle-class},
    &--medium#{$circle-class},
    &--large#{$circle-class},
    &--xlarge#{$circle-class},
    &--xxlarge#{$circle-class},
    &--xxxlarge#{$circle-class} {
      bottom: 75%;
      left: 75%;
    }

    &--xxxsmall#{$rounded-square-class},
    &--xxsmall#{$rounded-square-class},
    &--xsmall#{$rounded-square-class},
    &--small#{$rounded-square-class},
    &--medium#{$rounded-square-class},
    &--large#{$rounded-square-class},
    &--xlarge#{$rounded-square-class},
    &--xxlarge#{$rounded-square-class},
    &--xxxlarge#{$rounded-square-class} {
      bottom: 81.25%;
      left: 81.25%;
    }

    &--xxxsmall {
      @include size.avatar-status(4px);
    }

    &--xxsmall {
      @include size.avatar-status(5px);
    }

    &--xsmall {
      @include size.avatar-status(6px);
    }

    &--small {
      @include size.avatar-status(8px);
    }

    &--medium {
      @include size.avatar-status(9px);
    }

    &--large {
      @include size.avatar-status(10px);
    }

    &--xlarge {
      @include size.avatar-status(12px);
    }

    &--xxlarge {
      @include size.avatar-status(16px);
    }

    &--xxxlarge {
      @include size.avatar-status(24px);
    }
  }

  &__rim {
    box-sizing: content-box;
    display: block;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border-style: solid;
    border-radius: inherit;
    border-color: var(--action-negative-default);
    background: transparent;

    &--xxxsmall,
    &--xxsmall,
    &--xsmall {
      border-width: 2px;
      width: calc(100% + 2px);
      height: calc(100% + 2px);
    }

    &--small,
    &--medium,
    &--large,
    &--xlarge,
    &--xxlarge,
    &--xxxlarge {
      border-width: 3px;
      width: calc(100% + 4px);
      height: calc(100% + 4px);
    }
  }

  &__image {
    border-radius: inherit;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  &__icon {
    &--xxxsmall svg {
      @include size.avatar-icon(8px);
    }

    &--xxsmall svg {
      @include size.avatar-icon(10px);
    }

    &--xsmall svg {
      @include size.avatar-icon(12px);
    }

    &--small svg {
      @include size.avatar-icon(16px);
    }

    &--medium svg {
      @include size.avatar-icon(18px);
    }

    &--large svg {
      @include size.avatar-icon(24px);
    }

    &--xlarge svg {
      @include size.avatar-icon(32px);
    }

    &--xxlarge svg {
      @include size.avatar-icon(48px);
    }

    &--xxxlarge svg {
      @include size.avatar-icon(48px);
    }
  }

  &--circle {
    border-radius: 50%;
  }

  &--rounded-square {
    border-radius: 4px;
  }

  &--xxxsmall {
    @include size.avatar(16px, 20px, 12px);
  }

  &--xxsmall {
    @include size.avatar(20px, 20px, 12px);
  }

  &--xsmall {
    @include size.avatar(24px, 20px, 12px);
  }

  &--small {
    @include size.avatar(32px, 22px, 15px);
  }

  &--medium {
    @include size.avatar(36px, 22px, 15px);
  }

  &--large {
    @include size.avatar(40px, 24px, 18px);
  }

  &--xlarge {
    @include size.avatar(48px, 24px, 18px);
  }

  &--xxlarge {
    @include size.avatar(64px, 32px, 24px);
  }

  &--xxxlarge {
    @include size.avatar(96px, 40px, 32px);
  }
}
